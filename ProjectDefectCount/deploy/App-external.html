<!DOCTYPE html>
<html>
<head>
    <title>BasicRallyGrid</title>

    <script type="text/javascript" src="https://rally1.rallydev.com/apps/2.1/sdk.js"></script>

    <script type="text/javascript">
        Rally.onReady(function () {
                Ext.define("CustomApp",{extend:"Rally.app.App",componentCls:"app",globalStore:void 0,shopStore:void 0,accountStore:void 0,pubStore:void 0,techOpsStore:void 0,all:-1,global:-1,shop:-1,account:-1,pub:-1,tech:-1,countStore:void 0,pieChart:void 0,context:{projectScopeDown:!0},totalDialog:void 0,launch:function(){this._loadStores()},_loadStores:function(){let t=this,o=Ext.create("Rally.data.wsapi.Filter",{property:"State",operator:"<=",value:"Resolved"});t.globalStore=Ext.create("Rally.data.wsapi.Store",{itemId:"all-store",model:"Defect",limit:"Infinity",filters:o,context:{project:"/project/208449426736",projectScopeDown:!0,projectScopeUp:!1},fetch:["Project"],listeners:{load:function(){t.global=t.globalStore.count(),t.shopStore.load(),console.log("globalStore Loaded",t.globalStore.count())},scope:t}}),t.shopStore=Ext.create("Rally.data.wsapi.Store",{itemId:"all-store",model:"Defect",limit:"Infinity",filters:o,context:{project:"/project/208450167952",projectScopeDown:!0,projectScopeUp:!1},fetch:["Project"],listeners:{load:function(){t.shop=t.shopStore.count(),t.accountStore.load(),console.log("shopStore Loaded",t.shopStore.count())},scope:t}}),t.accountStore=Ext.create("Rally.data.wsapi.Store",{itemId:"all-store",model:"Defect",limit:"Infinity",filters:o,context:{project:"/project/208449406576",projectScopeDown:!0,projectScopeUp:!1},fetch:["Project"],listeners:{load:function(){t.account=t.accountStore.count(),t.pubStore.load(),console.log("accountStore Loaded",t.accountStore.count())},scope:t}}),t.pubStore=Ext.create("Rally.data.wsapi.Store",{itemId:"all-store",model:"Defect",limit:"Infinity",filters:o,context:{project:"/project/208449434348",projectScopeDown:!0,projectScopeUp:!1},fetch:["Project"],listeners:{load:function(){t.pub=t.pubStore.count(),t.techOpsStore.load(),console.log("pubStore Loaded",t.pubStore.count())},scope:t}}),t.techOpsStore=Ext.create("Rally.data.wsapi.Store",{itemId:"all-store",model:"Defect",limit:"Infinity",filters:o,context:{project:"/project/222502039964",projectScopeDown:!0,projectScopeUp:!1},fetch:["Project"],listeners:{load:function(){t.techOps=t.techOpsStore.count(),console.log("techOpsStore Loaded",t.techOpsStore.count()),t._getPie()},scope:t}}),t.globalStore.load()},_getPie:function(){let t=this;t.pieChart=Ext.create("Rally.ui.chart.Chart",{chartConfig:{chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie"},title:{text:"Defects By Project",style:{fontWeight:"bold",fontSize:"16"}},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",depth:35,dataLabels:{enabled:!0,style:{fontWeight:"bold",fontSize:"12",color:"black"},format:"<b>{point.name}</b>: {point.y}"},colors:["#f66db3","#e62689","#a10053","#078A14","#E8200D"]}},series:[{name:"Defects Count",colorByPoint:!0,data:[["Global",t.global],["Shop",t.shop],["AcctMngnt",t.account],["PUB",t.pub],["TechOps",t.techOps]]}]},chartData:{series:[{name:"Defects Count",colorByPoint:!0,data:[["Global",t.global],["Shop",t.shop],["AcctMngnt",t.account],["PUB",t.pub],["TechOps",t.techOps]]}]},categories:null}),console.log(t.pieChart.chartData),t.add(t.pieChart),t._createDialog()},_createDialog:function(){let t=this.all;this.totalDialog=Ext.create("Rally.ui.dialog.RichTextDialog",{autoShow:!0,title:"Total Defects",record:t}),this.add(this.totalDialog)}});let a=["#fce0ee","#f6b3d5","#f66db3","#eb4d9e","#e62689","#e20074","#df006c","#ba0060","#d60057","#a10053"],b=["#E3B721","#E3B721","#51D85E","#078A14","#E8200D","#E8200D","#E8200D","#E8200D","#E8200D","#E8200D"],c=["#ffffff","#f2f2f2","#e8e8e8","#cccccc","#9b9b9b","#6A6A6A","#4c4c4c","#333333","#262626","#000000"];

            Rally.launchApp('CustomApp', {
                name:"BasicRallyGrid",
                parentRepos:"",
                version:"1.2.8"
            });

        });
    </script>


    <style type="text/css">
        
    </style>
</head>
<body>
</body>
</html>
